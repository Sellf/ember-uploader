(function(e){var r,t,a,i;(function(){var e;if(!Array.isArray){e=function(e){return Object.prototype.toString.call(e)==="[object Array]"}}else{e=Array.isArray}var n={},s={},o={};var u=false;r=function(r,t,a){if(!e(t)){a=t;t=[]}n[r]={deps:t,callback:a}};function l(e,r,t){var i=e.length;var n=new Array(i);var s;var o;for(var u=0,l=i;u<l;u++){s=e[u];if(s==="exports"){o=n[u]=t}else{n[u]=a(p(s,r))}}return{deps:n,exports:o}}i=a=t=function(e){if(o[e]!==u&&s.hasOwnProperty(e)){return s[e]}if(!n[e]){throw new Error("Could not find module "+e)}var r=n[e];var t;var a;var i=false;s[e]={};try{t=l(r.deps,e,s[e]);a=r.callback.apply(this,t.deps);i=true}finally{if(!i){o[e]=u}}return t.exports?s[e]:s[e]=a};function p(e,r){if(e.charAt(0)!=="."){return e}var t=e.split("/");var a=r.split("/");var i;if(a.length===1){i=a}else{i=a.slice(0,-1)}for(var n=0,s=t.length;n<s;n++){var o=t[n];if(o===".."){i.pop()}else if(o==="."){continue}else{i.push(o)}}return i.join("/")}i.entries=i._eak_seen=n;i.clear=function(){i.entries=i._eak_seen=n={};s=o={}}})();r("ember-uploader",["ember-uploader/uploader","ember-uploader/s3","ember-uploader/file-field","exports"],function(e,r,t,a){"use strict";var i=e["default"];var n=r["default"];var s=t["default"];a["default"]={Uploader:i,S3Uploader:n,FileField:s}});r("ember-uploader/file-field",["exports"],function(e){"use strict";var r=Ember.set;e["default"]=Ember.TextField.extend({type:"file",attributeBindings:["multiple"],multiple:false,change:function(e){var t=e.target;if(!Ember.isEmpty(t.files)){r(this,"files",t.files)}}})});r("ember-uploader/s3",["ember-uploader/uploader","exports"],function(e,r){"use strict";var t=e["default"];var a=Ember.get,i=Ember.set;r["default"]=t.extend({url:"/sign",headers:null,didSign:function(e){this.trigger("didSign",e)},upload:function(e,r){var t=this;i(this,"isUploading",true);return this.sign(e,r).then(function(r){t.didSign(r);var a=null;if(r.region){a="https://s3-"+r.region+".amazonaws.com/"+r.bucket;delete r.region}else{a="https://"+r.bucket+".s3.amazonaws.com"}var i=t.setupFormData(e,r);return t.ajax(a,i)}).then(function(e){t.didUpload(e);return e})},pyupload:function(e,r){var t=this;i(this,"isUploading",true);return this.pysign(e,r).then(function(r){t.didSign(r);var a=r.object.url.split("amazonaws.com")[0]+"amazonaws.com/";var i=t.setupFormData(e,r.upload_params);return t.ajax(a,i)}).then(function(e){t.didUpload(e);return e})},sign:function(e,r){r=r||{};r.name=e.name;r.type=e.type;r.size=e.size;var t={url:a(this,"url"),headers:a(this,"headers"),type:"GET",contentType:"json",data:r};return this._ajax(t)},pysign:function(e,r){r=r||{};r.name=e.name;r.size=e.size;var t={url:a(this,"url"),headers:a(this,"headers"),type:"POST",contentType:"application/json",data:JSON.stringify(r)};return this._ajax(t)}})});r("ember-uploader/uploader",["exports"],function(e){"use strict";var r=Ember.get,t=Ember.set;e["default"]=Ember.Object.extend(Ember.Evented,{url:null,paramNamespace:null,paramName:"file",isUploading:false,type:"POST",upload:function(e,a){a=a||{};var i=this.setupFormData(e,a);var n=r(this,"url");var s=r(this,"type");var o=this;t(this,"isUploading",true);return this.ajax(n,i,s).then(function(e){o.didUpload(e);return e},function(e,r,t){o.didError(e,r,t)})},setupFormData:function(e,r){var t=new FormData;for(var a in r){if(r.hasOwnProperty(a)){t.append(this.toNamespacedParam(a),r[a])}}if(Ember.isArray(e)){var i;for(var n=e.length-1;n>=0;n--){i=this.toNamespacedParam(this.paramName)+"["+n+"]";t.append(i,e[n])}}else{t.append(this.toNamespacedParam(this.paramName),e)}return t},toNamespacedParam:function(e){if(this.paramNamespace){return this.paramNamespace+"["+e+"]"}return e},didUpload:function(e){t(this,"isUploading",false);this.trigger("didUpload",e)},didError:function(e,r,a){t(this,"isUploading",false);this.trigger("didError",e,r,a)},didProgress:function(e){e.percent=e.loaded/e.total*100;this.trigger("progress",e)},abort:function(){t(this,"isUploading",false);this.trigger("isAborting")},ajax:function(e,r,t){var a=this;var i={url:e,type:t||"POST",contentType:false,processData:false,xhr:function(){var e=Ember.$.ajaxSettings.xhr();e.upload.onprogress=function(e){a.didProgress(e)};a.one("isAborting",function(){e.abort()});return e},data:r};return this._ajax(i)},_ajax:function(e){var r=this;return new Ember.RSVP.Promise(function(r,t){e.success=function(e){Ember.run(null,r,e)};e.error=function(e,r,a){Ember.run(null,t,e)};Ember.$.ajax(e)})}})});e.EmberUploader=t("ember-uploader")["default"]})(this);